gain_potential_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	
	major = yes

	ai_check_interval = 0
	
	is_shown = {
		has_game_rule = PC_magic_level_decision
		NOT = {
			has_character_flag = ancient_magic_potential_chosen
			has_trait = magic_potential	
		}
	}
	
	desc = gain_potential_decision_desc
	
	effect = {
		trigger_event = ancient_magic_gain_talent_events.001
	}	

	ai_potential = {
		always = no
	}

	ai_will_do = {
		base = 0
	}
}

reset_mana_system_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	is_shown = {
		OR = {
			has_perk = finacial_times_perk
			has_variable = mage_xp
			NOT = { has_global_variable_list = spell_categories_list }
			debug_only = yes
		}
	}

	effect = {
		custom_tooltip = reset_mana_system_decision_effect_tooltip
		
		hidden_effect = {
			every_living_character = {
				if = {
					limit = { has_trait = mage }
					if = {
						limit = { has_perk = finacial_times_perk }
						remove_perk = finacial_times_perk
						add_perk = financial_times_perk
					}
					if = {
						limit = { has_character_modifier = finacial_times_modifier }
						remove_all_character_modifier_instances = finacial_times_modifier
						add_character_modifier = financial_times_modifier
					}
					remove_variable = mage_xp
					remove_character_flag = magic_potential_1_mana_added
					remove_character_flag = magic_potential_2_mana_added
					remove_character_flag = magic_potential_3_mana_added
					remove_character_flag = ancient_magic_mana_circle_01_mana_added
					remove_character_flag = ancient_magic_mana_circle_02_mana_added
					remove_character_flag = ancient_magic_mana_circle_03_mana_added
					remove_character_flag = ancient_magic_mana_focus_mana_added
					remove_character_flag = ancient_magic_arcana_focus_mana_added
					remove_character_flag = arcane_legacy_2_mana_added
					remove_character_flag = arcane_legacy_3_mana_added
					trigger_event = { on_action = on_reset_mana_system }
				}
			}
			set_up_spells = yes
		}
	}

	ai_check_interval = 0

	ai_potential = { always = no }

	ai_will_do = { base = 0 }
}
