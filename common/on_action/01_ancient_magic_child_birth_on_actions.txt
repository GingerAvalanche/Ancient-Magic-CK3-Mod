on_birth_father = {
	effect = {
		hidden_effect = {
			if = {
				limit = {
					exists = scope:child.dynasty
					scope:child.dynasty = { has_dynasty_perk = arcane_legacy_1 }
					OR = { # The child must have a real parent of the Dynasty...
						scope:mother.dynasty = scope:child.dynasty
						scope:real_father.dynasty = scope:child.dynasty
					}
				}
				if = {
					limit = {
						NOT = {
							has_trait = magic_potential
						}
					}
					random = {
						chance = 10
						modifier = {
							add = 10
							any_parent = { is_ai = no }
						}
						scope:child = {
							add_trait = magic_potential_1
						}
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:child.dynasty
					scope:child.dynasty = { has_dynasty_perk = arcane_legacy_5 }
					OR = { # The child must have a real parent of the Dynasty...
						scope:mother.dynasty = scope:child.dynasty
						scope:real_father.dynasty = scope:child.dynasty
					}
				}
				if = {
					limit = {
						NOT = {
							has_trait = magic_potential_1
						}
					}
					random = {
						chance = 10
						modifier = {
							add = 10
							any_parent = { is_ai = no }
						}
						scope:child = {
							remove_trait = magic_potential_1
							add_trait = magic_potential_2
						}
					}
				}
				if = {
					limit = {
						NOT = {
							has_trait = magic_potential_2
						}
					}
					random = {
						chance = 10
						modifier = {
							add = 10
							any_parent = { is_ai = no }
						}
						scope:child = {
							remove_trait = magic_potential_2
							add_trait = magic_potential_3
						}
					}
				}
			}
		}
	}
}

on_birth_child = {
	events = {
		AM_education_and_talents.006 # Checks if child wasnt born on ley line
	}
}