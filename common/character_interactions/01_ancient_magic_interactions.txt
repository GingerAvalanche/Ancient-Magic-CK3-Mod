open_spellbook_interaction = {
	category = AMS_magic_interactions

	desc = open_spellbook_interaction_desc

	is_shown = {
		scope:actor = { 
			has_trait = mage
		}
	}

	is_valid = {
		scope:actor = {
			custom_description = {
				text = open_spellbook_interaction.tt
				NOT = { has_character_flag = am_spell_resolution }
			}
		}
	}

	ai_will_do = {
		base = 0
	}
	
	auto_accept = yes
	
	on_accept = {
		scope:recipient = {
			save_scope_as = am_spell_target
		}
		scope:actor = { 
			save_scope_as = am_spell_caster
			trigger_event = ancient_magic_spellbook_events.001
		}
	}
}

halt_aging_interaction = {
	category = AMS_magic_interactions

	desc = halt_aging_interaction_desc

	is_shown = {
		scope:actor = { 
			has_character_modifier = halt_aging_spell_modifier
		}
		scope:recipient = {
			NOT = { 
				has_trait = master_of_time
				has_trait = immortal
			}
		}
	}
	
	ai_will_do = {
		base = 0
	}
	
	auto_accept = yes
	
	on_accept = {
		scope:actor = { 
			remove_character_modifier = halt_aging_spell_modifier
		}
		scope:recipient = {
			add_trait = immortal
		}
	}
}

start_aging_interaction = {
	category = AMS_magic_interactions

	desc = start_aging_interaction_desc

	is_shown = {
		scope:actor = { 
			has_character_modifier = restart_aging_spell_modifier
		}
		scope:recipient = {
			NOT = { 
				has_trait = master_of_time	
			}
			has_trait = immortal
		}
	}
	
	ai_will_do = {
		base = 0
	}
	
	auto_accept = yes
	
	on_accept = {
		scope:actor = { 
			remove_character_modifier = restart_aging_spell_modifier
		}
		scope:recipient = {
			remove_trait = immortal
		}
	}
}
