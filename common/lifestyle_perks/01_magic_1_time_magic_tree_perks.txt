time_mage_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 2 0 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		add_trait_force_tooltip = mage
		add_trait_force_tooltip = mana
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
	character_modifier = {
		monthly_income_mult = 0.1
	}
}

glimpse_the_future_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 0 1.25 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
	
	parent = time_mage_perk
}


financial_times_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 0 2.5 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	parent = glimpse_the_future_perk
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


celerity_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 2 1.25 }
	icon = node_diplomacy
	
	parent = time_mage_perk
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


mass_celerity_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 2 2.5 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	parent = celerity_perk
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


slowness_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 4 1.25 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	parent = time_mage_perk

	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


mass_slowness_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 4 2.5 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	parent = slowness_perk
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


temporal_manipulation_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 2 3.75 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	parent = financial_times_perk
	parent = mass_celerity_perk
	parent = mass_slowness_perk

	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


master_of_time_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = time_magic
	position = { 2 5 }
	icon = master_of_time
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 3000
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = greedy
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = temperate
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = patient
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = { is_immortal=yes }
			}
			multiply = 10
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	
	
	parent = temporal_manipulation_perk
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		add_trait_force_tooltip = master_of_time
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}
