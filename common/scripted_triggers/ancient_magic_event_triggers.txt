immortal_has_lifetime_flags = {
	OR = {
        # Thank you to Nope (Vampires and Lycans mod) for doing the
        # work to find these flags. You saved me some time.
		
        has_character_flag = has_refunded_perks
		has_character_flag = declared_major_religious_war_flag
		has_character_flag = has_created_a_faith
		has_character_flag = converted_culture_this_lifetime
		has_character_flag = used_lifetime_invasion
		has_character_flag = used_lifetime_subjugation
	}
}

is_living_immortal = {
	is_immortal = yes
	OR = {
		has_trait = immortal
		has_trait = master_of_time
		# Add things like 'demi_god' here for spell recognition
	}
}

is_unliving_immortal = {
	has_trait = undead
	# Add things like vampire here for spell recognition
}

am_has_minor_illness = {
	OR = {
		has_trait = smallpox
		has_trait = sickly
		has_trait = ill
		has_trait = early_great_pox
		has_trait = lovers_pox
		has_trait = wounded_1
		has_trait = infirm
	}
}

am_has_greater_illness = {
	OR = { 
		has_trait = pneumonic
		has_trait = great_pox
		has_trait = leper
		has_trait = wounded_2
		has_trait = maimed
		has_trait = gout_ridden
		has_trait = consumption
		has_trait = cancer
		has_trait = typhus
		has_trait = bubonic_plague
	}
}

am_has_critical_illness = {
	OR = {
		has_trait = wounded_3
		has_trait = one_eyed
		has_trait = one_legged
		has_trait = disfigured
		has_trait = scarred
		has_trait = eunuch
		has_trait = blind
		has_trait = incapable
	}
}
		
has_aura_modifier = {
	has_character_modifier = $AURA$_modifier_$LEVEL$
}

has_any_spell_aura_modifier = {
	OR = {
		has_character_modifier = $AURA$_modifier_1
		has_character_modifier = $AURA$_modifier_2
		has_character_modifier = $AURA$_modifier_3
		has_character_modifier = $AURA$_modifier_4
		has_character_modifier = $AURA$_modifier_5
		has_character_modifier = $AURA$_modifier_6
		has_character_modifier = $AURA$_modifier_7
		has_character_modifier = $AURA$_modifier_8
		has_character_modifier = $AURA$_modifier_9
		has_character_modifier = $AURA$_modifier_10
		has_character_modifier = $AURA$_modifier_11
		has_character_modifier = $AURA$_modifier_12
		has_character_modifier = $AURA$_modifier_13
		has_character_modifier = $AURA$_modifier_14
		has_character_modifier = $AURA$_modifier_15
		has_character_modifier = $AURA$_modifier_16
		has_character_modifier = $AURA$_modifier_17
		has_character_modifier = $AURA$_modifier_18
		has_character_modifier = $AURA$_modifier_19
		has_character_modifier = $AURA$_modifier_20
	}
}

# Should be doable for processing, but if there are problems
# or once things are settled with targetable aura, replace
# this check with a simple mana_gen check to see if mana
# is being taken for an aura (Fewer Triggers)
has_any_aura_modifier = {
	OR = {
		has_character_modifier = magic_haste_modifier_1
		has_character_modifier = magic_haste_modifier_2
		has_character_modifier = magic_haste_modifier_3
		has_character_modifier = magic_haste_modifier_4
		has_character_modifier = magic_haste_modifier_5
		has_character_modifier = magic_haste_modifier_6
		has_character_modifier = magic_haste_modifier_7
		has_character_modifier = magic_haste_modifier_8
		has_character_modifier = magic_haste_modifier_9
		has_character_modifier = magic_haste_modifier_10
		has_character_modifier = magic_haste_modifier_11
		has_character_modifier = magic_haste_modifier_12
		has_character_modifier = magic_haste_modifier_13
		has_character_modifier = magic_haste_modifier_14
		has_character_modifier = magic_haste_modifier_15
		has_character_modifier = magic_haste_modifier_16
		has_character_modifier = magic_haste_modifier_17
		has_character_modifier = magic_haste_modifier_18
		has_character_modifier = magic_haste_modifier_19
		has_character_modifier = magic_haste_modifier_20
		has_character_modifier = beguiling_aura_modifier_1
		has_character_modifier = beguiling_aura_modifier_2
		has_character_modifier = beguiling_aura_modifier_3
		has_character_modifier = beguiling_aura_modifier_4
		has_character_modifier = beguiling_aura_modifier_5
		has_character_modifier = beguiling_aura_modifier_6
		has_character_modifier = beguiling_aura_modifier_7
		has_character_modifier = beguiling_aura_modifier_8
		has_character_modifier = beguiling_aura_modifier_9
		has_character_modifier = beguiling_aura_modifier_10
		has_character_modifier = beguiling_aura_modifier_11
		has_character_modifier = beguiling_aura_modifier_12
		has_character_modifier = beguiling_aura_modifier_13
		has_character_modifier = beguiling_aura_modifier_14
		has_character_modifier = beguiling_aura_modifier_15
		has_character_modifier = beguiling_aura_modifier_16
		has_character_modifier = beguiling_aura_modifier_17
		has_character_modifier = beguiling_aura_modifier_18
		has_character_modifier = beguiling_aura_modifier_19
		has_character_modifier = beguiling_aura_modifier_20
		has_character_modifier = enchanting_aura_modifier_1
		has_character_modifier = enchanting_aura_modifier_2
		has_character_modifier = enchanting_aura_modifier_3
		has_character_modifier = enchanting_aura_modifier_4
		has_character_modifier = enchanting_aura_modifier_5
		has_character_modifier = enchanting_aura_modifier_6
		has_character_modifier = enchanting_aura_modifier_7
		has_character_modifier = enchanting_aura_modifier_8
		has_character_modifier = enchanting_aura_modifier_9
		has_character_modifier = enchanting_aura_modifier_10
		has_character_modifier = enchanting_aura_modifier_11
		has_character_modifier = enchanting_aura_modifier_12
		has_character_modifier = enchanting_aura_modifier_13
		has_character_modifier = enchanting_aura_modifier_14
		has_character_modifier = enchanting_aura_modifier_15
		has_character_modifier = enchanting_aura_modifier_16
		has_character_modifier = enchanting_aura_modifier_17
		has_character_modifier = enchanting_aura_modifier_18
		has_character_modifier = enchanting_aura_modifier_19
		has_character_modifier = enchanting_aura_modifier_20
		has_character_modifier = glimpse_the_future_modifier_1
		has_character_modifier = glimpse_the_future_modifier_2
		has_character_modifier = glimpse_the_future_modifier_3
		has_character_modifier = glimpse_the_future_modifier_4
		has_character_modifier = glimpse_the_future_modifier_5
		has_character_modifier = glimpse_the_future_modifier_6
		has_character_modifier = glimpse_the_future_modifier_7
		has_character_modifier = glimpse_the_future_modifier_8
		has_character_modifier = glimpse_the_future_modifier_9
		has_character_modifier = glimpse_the_future_modifier_10
		has_character_modifier = glimpse_the_future_modifier_11
		has_character_modifier = glimpse_the_future_modifier_12
		has_character_modifier = glimpse_the_future_modifier_13
		has_character_modifier = glimpse_the_future_modifier_14
		has_character_modifier = glimpse_the_future_modifier_15
		has_character_modifier = glimpse_the_future_modifier_16
		has_character_modifier = glimpse_the_future_modifier_17
		has_character_modifier = glimpse_the_future_modifier_18
		has_character_modifier = glimpse_the_future_modifier_19
		has_character_modifier = glimpse_the_future_modifier_20
		has_character_modifier = financial_times_modifier_1
		has_character_modifier = financial_times_modifier_2
		has_character_modifier = financial_times_modifier_3
		has_character_modifier = financial_times_modifier_4
		has_character_modifier = financial_times_modifier_5
		has_character_modifier = financial_times_modifier_6
		has_character_modifier = financial_times_modifier_7
		has_character_modifier = financial_times_modifier_8
		has_character_modifier = financial_times_modifier_9
		has_character_modifier = financial_times_modifier_10
		has_character_modifier = financial_times_modifier_11
		has_character_modifier = financial_times_modifier_12
		has_character_modifier = financial_times_modifier_13
		has_character_modifier = financial_times_modifier_14
		has_character_modifier = financial_times_modifier_15
		has_character_modifier = financial_times_modifier_16
		has_character_modifier = financial_times_modifier_17
		has_character_modifier = financial_times_modifier_18
		has_character_modifier = financial_times_modifier_19
		has_character_modifier = financial_times_modifier_20
		has_character_modifier = celerity_modifier_1
		has_character_modifier = celerity_modifier_2
		has_character_modifier = celerity_modifier_3
		has_character_modifier = celerity_modifier_4
		has_character_modifier = celerity_modifier_5
		has_character_modifier = celerity_modifier_6
		has_character_modifier = celerity_modifier_7
		has_character_modifier = celerity_modifier_8
		has_character_modifier = celerity_modifier_9
		has_character_modifier = celerity_modifier_10
		has_character_modifier = celerity_modifier_11
		has_character_modifier = celerity_modifier_12
		has_character_modifier = celerity_modifier_13
		has_character_modifier = celerity_modifier_14
		has_character_modifier = celerity_modifier_15
		has_character_modifier = celerity_modifier_16
		has_character_modifier = celerity_modifier_17
		has_character_modifier = celerity_modifier_18
		has_character_modifier = celerity_modifier_19
		has_character_modifier = celerity_modifier_20
		has_character_modifier = slowness_modifier_1
		has_character_modifier = slowness_modifier_2
		has_character_modifier = slowness_modifier_3
		has_character_modifier = slowness_modifier_4
		has_character_modifier = slowness_modifier_5
		has_character_modifier = slowness_modifier_6
		has_character_modifier = slowness_modifier_7
		has_character_modifier = slowness_modifier_8
		has_character_modifier = slowness_modifier_9
		has_character_modifier = slowness_modifier_10
		has_character_modifier = slowness_modifier_11
		has_character_modifier = slowness_modifier_12
		has_character_modifier = slowness_modifier_13
		has_character_modifier = slowness_modifier_14
		has_character_modifier = slowness_modifier_15
		has_character_modifier = slowness_modifier_16
		has_character_modifier = slowness_modifier_17
		has_character_modifier = slowness_modifier_18
		has_character_modifier = slowness_modifier_19
		has_character_modifier = slowness_modifier_20
		has_character_modifier = mass_slowness_modifier_1
		has_character_modifier = mass_slowness_modifier_2
		has_character_modifier = mass_slowness_modifier_3
		has_character_modifier = mass_slowness_modifier_4
		has_character_modifier = mass_slowness_modifier_5
		has_character_modifier = mass_slowness_modifier_6
		has_character_modifier = mass_slowness_modifier_7
		has_character_modifier = mass_slowness_modifier_8
		has_character_modifier = mass_slowness_modifier_9
		has_character_modifier = mass_slowness_modifier_10
		has_character_modifier = mass_slowness_modifier_11
		has_character_modifier = mass_slowness_modifier_12
		has_character_modifier = mass_slowness_modifier_13
		has_character_modifier = mass_slowness_modifier_14
		has_character_modifier = mass_slowness_modifier_15
		has_character_modifier = mass_slowness_modifier_16
		has_character_modifier = mass_slowness_modifier_17
		has_character_modifier = mass_slowness_modifier_18
		has_character_modifier = mass_slowness_modifier_19
		has_character_modifier = mass_slowness_modifier_20
		has_character_modifier = temporal_manipulation_modifier_1
		has_character_modifier = temporal_manipulation_modifier_2
		has_character_modifier = temporal_manipulation_modifier_3
		has_character_modifier = temporal_manipulation_modifier_4
		has_character_modifier = temporal_manipulation_modifier_5
		has_character_modifier = temporal_manipulation_modifier_6
		has_character_modifier = temporal_manipulation_modifier_7
		has_character_modifier = temporal_manipulation_modifier_8
		has_character_modifier = temporal_manipulation_modifier_9
		has_character_modifier = temporal_manipulation_modifier_10
		has_character_modifier = temporal_manipulation_modifier_11
		has_character_modifier = temporal_manipulation_modifier_12
		has_character_modifier = temporal_manipulation_modifier_13
		has_character_modifier = temporal_manipulation_modifier_14
		has_character_modifier = temporal_manipulation_modifier_15
		has_character_modifier = temporal_manipulation_modifier_16
		has_character_modifier = temporal_manipulation_modifier_17
		has_character_modifier = temporal_manipulation_modifier_18
		has_character_modifier = temporal_manipulation_modifier_19
		has_character_modifier = temporal_manipulation_modifier_20
		has_character_modifier = flame_aura_modifier_1
		has_character_modifier = flame_aura_modifier_2
		has_character_modifier = flame_aura_modifier_3
		has_character_modifier = flame_aura_modifier_4
		has_character_modifier = flame_aura_modifier_5
		has_character_modifier = flame_aura_modifier_6
		has_character_modifier = flame_aura_modifier_7
		has_character_modifier = flame_aura_modifier_8
		has_character_modifier = flame_aura_modifier_9
		has_character_modifier = flame_aura_modifier_10
		has_character_modifier = flame_aura_modifier_11
		has_character_modifier = flame_aura_modifier_12
		has_character_modifier = flame_aura_modifier_13
		has_character_modifier = flame_aura_modifier_14
		has_character_modifier = flame_aura_modifier_15
		has_character_modifier = flame_aura_modifier_16
		has_character_modifier = flame_aura_modifier_17
		has_character_modifier = flame_aura_modifier_18
		has_character_modifier = flame_aura_modifier_19
		has_character_modifier = flame_aura_modifier_20
		has_character_modifier = flaming_weapons_modifier_1
		has_character_modifier = flaming_weapons_modifier_2
		has_character_modifier = flaming_weapons_modifier_3
		has_character_modifier = flaming_weapons_modifier_4
		has_character_modifier = flaming_weapons_modifier_5
		has_character_modifier = flaming_weapons_modifier_6
		has_character_modifier = flaming_weapons_modifier_7
		has_character_modifier = flaming_weapons_modifier_8
		has_character_modifier = flaming_weapons_modifier_9
		has_character_modifier = flaming_weapons_modifier_10
		has_character_modifier = flaming_weapons_modifier_11
		has_character_modifier = flaming_weapons_modifier_12
		has_character_modifier = flaming_weapons_modifier_13
		has_character_modifier = flaming_weapons_modifier_14
		has_character_modifier = flaming_weapons_modifier_15
		has_character_modifier = flaming_weapons_modifier_16
		has_character_modifier = flaming_weapons_modifier_17
		has_character_modifier = flaming_weapons_modifier_18
		has_character_modifier = flaming_weapons_modifier_19
		has_character_modifier = flaming_weapons_modifier_20
		has_character_modifier = living_earthworks_modifier_1
		has_character_modifier = living_earthworks_modifier_2
		has_character_modifier = living_earthworks_modifier_3
		has_character_modifier = living_earthworks_modifier_4
		has_character_modifier = living_earthworks_modifier_5
		has_character_modifier = living_earthworks_modifier_6
		has_character_modifier = living_earthworks_modifier_7
		has_character_modifier = living_earthworks_modifier_8
		has_character_modifier = living_earthworks_modifier_9
		has_character_modifier = living_earthworks_modifier_10
		has_character_modifier = living_earthworks_modifier_11
		has_character_modifier = living_earthworks_modifier_12
		has_character_modifier = living_earthworks_modifier_13
		has_character_modifier = living_earthworks_modifier_14
		has_character_modifier = living_earthworks_modifier_15
		has_character_modifier = living_earthworks_modifier_16
		has_character_modifier = living_earthworks_modifier_17
		has_character_modifier = living_earthworks_modifier_18
		has_character_modifier = living_earthworks_modifier_19
		has_character_modifier = living_earthworks_modifier_20
		has_character_modifier = control_water_modifier_1
		has_character_modifier = control_water_modifier_2
		has_character_modifier = control_water_modifier_3
		has_character_modifier = control_water_modifier_4
		has_character_modifier = control_water_modifier_5
		has_character_modifier = control_water_modifier_6
		has_character_modifier = control_water_modifier_7
		has_character_modifier = control_water_modifier_8
		has_character_modifier = control_water_modifier_9
		has_character_modifier = control_water_modifier_10
		has_character_modifier = control_water_modifier_11
		has_character_modifier = control_water_modifier_12
		has_character_modifier = control_water_modifier_13
		has_character_modifier = control_water_modifier_14
		has_character_modifier = control_water_modifier_15
		has_character_modifier = control_water_modifier_16
		has_character_modifier = control_water_modifier_17
		has_character_modifier = control_water_modifier_18
		has_character_modifier = control_water_modifier_19
		has_character_modifier = control_water_modifier_20
		has_character_modifier = drought_modifier_1
		has_character_modifier = drought_modifier_2
		has_character_modifier = drought_modifier_3
		has_character_modifier = drought_modifier_4
		has_character_modifier = drought_modifier_5
		has_character_modifier = drought_modifier_6
		has_character_modifier = drought_modifier_7
		has_character_modifier = drought_modifier_8
		has_character_modifier = drought_modifier_9
		has_character_modifier = drought_modifier_10
		has_character_modifier = drought_modifier_11
		has_character_modifier = drought_modifier_12
		has_character_modifier = drought_modifier_13
		has_character_modifier = drought_modifier_14
		has_character_modifier = drought_modifier_15
		has_character_modifier = drought_modifier_16
		has_character_modifier = drought_modifier_17
		has_character_modifier = drought_modifier_18
		has_character_modifier = drought_modifier_19
		has_character_modifier = drought_modifier_20
		has_character_modifier = elemental_warrior_modifier_1
		has_character_modifier = elemental_warrior_modifier_2
		has_character_modifier = elemental_warrior_modifier_3
		has_character_modifier = elemental_warrior_modifier_4
		has_character_modifier = elemental_warrior_modifier_5
		has_character_modifier = elemental_warrior_modifier_6
		has_character_modifier = elemental_warrior_modifier_7
		has_character_modifier = elemental_warrior_modifier_8
		has_character_modifier = elemental_warrior_modifier_9
		has_character_modifier = elemental_warrior_modifier_10
		has_character_modifier = elemental_warrior_modifier_11
		has_character_modifier = elemental_warrior_modifier_12
		has_character_modifier = elemental_warrior_modifier_13
		has_character_modifier = elemental_warrior_modifier_14
		has_character_modifier = elemental_warrior_modifier_15
		has_character_modifier = elemental_warrior_modifier_16
		has_character_modifier = elemental_warrior_modifier_17
		has_character_modifier = elemental_warrior_modifier_18
		has_character_modifier = elemental_warrior_modifier_19
		has_character_modifier = elemental_warrior_modifier_20
		has_character_modifier = aura_of_death_modifier_1
		has_character_modifier = aura_of_death_modifier_2
		has_character_modifier = aura_of_death_modifier_3
		has_character_modifier = aura_of_death_modifier_4
		has_character_modifier = aura_of_death_modifier_5
		has_character_modifier = aura_of_death_modifier_6
		has_character_modifier = aura_of_death_modifier_7
		has_character_modifier = aura_of_death_modifier_8
		has_character_modifier = aura_of_death_modifier_9
		has_character_modifier = aura_of_death_modifier_10
		has_character_modifier = aura_of_death_modifier_11
		has_character_modifier = aura_of_death_modifier_12
		has_character_modifier = aura_of_death_modifier_13
		has_character_modifier = aura_of_death_modifier_14
		has_character_modifier = aura_of_death_modifier_15
		has_character_modifier = aura_of_death_modifier_16
		has_character_modifier = aura_of_death_modifier_17
		has_character_modifier = aura_of_death_modifier_18
		has_character_modifier = aura_of_death_modifier_19
		has_character_modifier = aura_of_death_modifier_20
	}
}