life_mage_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 2 0 }
	icon = node_diplomacy
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_trait = magic_potential	
					has_trait = education_arcane
				}
			}
			add = 1989
		}
		if = {
			limit = {
				has_trait = kind
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = gregarious
			}
			multiply = 2
		}
		if = {
			limit = {
				has_trait = compassionate
			}
			multiply = 2
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		add_trait_force_tooltip = mage
		add_trait_force_tooltip = mana
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
	character_modifier = {
		health = 0.1
	}
}

inward_reflection_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 0 1.25 }
	icon = node_diplomacy
	
	
	
	character_modifier = {
		health = 0.5
		life_expectancy = 20
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
	
	parent = life_mage_perk
}


inward_perfection_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 0 2.5 }
	icon = node_diplomacy
	
	
	
	parent = inward_reflection_perk
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
	
	character_modifier = {
		health = 0.5
		life_expectancy = 20
		no_prowess_loss_from_age = yes
	}
}

heal_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 2 1.25 }
	icon = node_diplomacy
	
	parent = life_mage_perk
	
	
	
	effect = {
		custom_description_no_bullet = {
			text = heal_perk_effect
		}
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


greater_heal_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 2 2.5 }
	icon = node_diplomacy
	
	
	
	parent = heal_perk
	
	effect = {
		custom_description_no_bullet = {
			text = greater_heal_perk_effect
		}
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


battlefield_life_mage_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 4 1.25 }
	icon = node_diplomacy
	
	
	
	parent = life_mage_perk
	
	character_modifier = {
		hard_casualty_modifier = -0.3
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


greater_battlefield_life_mage_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 4 2.5 }
	icon = node_diplomacy
	
	
	
	parent = battlefield_life_mage_perk
	
	character_modifier = {
		hard_casualty_modifier = -0.3
	}
	
	effect = {
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


purity_of_body_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 2 3.75 }
	icon = node_diplomacy
	
	
	
	parent = inward_perfection_perk
	parent = greater_heal_perk
	parent = greater_battlefield_life_mage_perk
	
	character_modifier = {
		life_expectancy = 10
	}
	
	effect = {
		custom_description_no_bullet = {
			text = purity_of_body_perk_effect
		}
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		add_character_flag = immune_to_disease
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}


avatar_of_life_perk = {
	lifestyle = ancient_magic_lifestyle
	tree = life_magic
	position = { 2 5 }
	icon = avatar_of_life
	
	
	
	parent = purity_of_body_perk
	
	effect = {
		custom_description_no_bullet = {
			text = avatar_of_life_perk_effect
		}
		custom_description_no_bullet = {
			text = mana_gen_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = max_mana_magic_perk_effect
		}
		custom_description_no_bullet = {
			text = mage_xp_magic_perk_effect
		}
		add_trait_force_tooltip = avatar_of_life
		hidden_effect = { trigger_event = { on_action = on_reset_mana_system } }
	}
}

